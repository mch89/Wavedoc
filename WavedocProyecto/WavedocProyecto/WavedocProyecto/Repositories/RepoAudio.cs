using Newtonsoft.Json;
using Newtonsoft.Json.Linq;
using Plugin.FilePicker.Abstractions;
using System;
using System.Collections.Generic;
using System.Linq;
using System.Net.Http;
using System.Net.Http.Headers;
using System.Text;
using System.Threading.Tasks;
using WaveDock_Xamarin.Models;

namespace WaveDock_Xamarin.Repositories
{
    public class RepoAudio
    {
        private String url;
        private MediaTypeWithQualityHeaderValue header;

        public RepoAudio()
        {
            this.url = "https://api.audd.io";
            this.header = new MediaTypeWithQualityHeaderValue("application/json");
        }


        public async Task<JsonResponse> GetLyrics(String palabras)
        {
            using (HttpClient client = new HttpClient())
            {
                client.BaseAddress = new Uri(this.url);
                client.DefaultRequestHeaders.Accept.Clear();
                client.DefaultRequestHeaders.Accept.Add(this.header);


                var data = new
                {
                    //api_token = "ffad7b7a799d4a21526ed40ab9a41cea",
                    api_token = "test",
                    Return = "youtube"
                };

                String request = "/findLyrics/?q=" + palabras;  //'https://api.audd.io/findLyrics/?q=adele%20hello'

                String json = JsonConvert.SerializeObject(data);

                StringContent content = new StringContent(json, Encoding.UTF8, "application/json");

                HttpResponseMessage response = await client.PostAsync(request, content).ConfigureAwait(false);

                if (response.IsSuccessStatusCode)
                {

                    String algo2 = "{\"status\":\"success\",\"result\":[{\"song_id\":\"3360875\",\"artist_id\":\"396565\",\"title\":\"UP LIKE AN INSOMNIAC (Freestyle)\",\"title_with_featured\":\"UP LIKE AN INSOMNIAC (Freestyle)\",\"full_title\":\"UP LIKE AN INSOMNIAC (Freestyle) by XXXTENTACION\",\"artist\":\"XXXTENTACION\",\"lyrics\":\"[Intro]\\r\\n Okay\\r\\n I'm way too good at this shit\\r\\n I don't even really gotta try no more\\r\\n Oh my God, Ronny\\r\\n \\r\\n [Chorus]\\r\\n Bitch I am up, bitch I am up\\r\\n Bitch I am up, bitch I am up\\r\\n Bitch I am up, bitch I am up\\r\\n Bitch I am up, bitch I am up\\r\\n Bitch I am huh, bitch I am up\\r\\n Bitch I am up, bitch I am up\\r\\n Bitch I am up, bitch I am up\\r\\n Bitch I am up, bitch I am up\\r\\n \\r\\n [Verse 1]\\r\\n Okay, Xans for her dinner, uh, bag from Margiela, uhh\\r\\n Bad little bitch, she Spanish, speak no English, got no manners\\r\\n Just like a gnome, I'm at your home\\r\\n Right on your yard, shoes are Goyard\\r\\n Dick in your broad, her pussy stinky, messy like Binky, bon appetite\\r\\n Bitch, I don't see nobody better than me, mm\\r\\n All these pussy niggas is jealous of me, mm\\r\\n Got a pussy wetter than Swiffer you see, mm\\r\\n Steal a nigga flow, then murder his beat, uhh\\r\\n Stole a nigga bitch, she murder my meat, uhh\\r\\n Had a nigga numb from the feet to the knee up\\r\\n When she suck my dick, it's makin' her hiccup\\r\\n When I'm in that pussy, I jam my new shit up\\r\\n [Chorus]\\r\\n Bitch I am up, bitch I am up\\r\\n Bitch I am up, bitch I am up\\r\\n Bitch I am up, bitch I am up\\r\\n Bitch I am up, bitch I am up\\r\\n Bitch I am huh, bitch I am up\\r\\n Bitch I am up, bitch I am up\\r\\n Bitch I am up, bitch I am up\\r\\n Bitch I am up, bitch I am up\\r\\n \\r\\n [Verse 2]\\r\\n All these niggas fuckin' hoes, ten toes, never fold\\r\\n Pussy nigga, snatch your soul out your shirt, actin' bold\\r\\n Actin' up, actin' tough, just might get you fist fucked\\r\\n All that talk about runnin' up, still you're a boy, I'm runnin' up\\r\\n My flow's acidic, I murder rap virgins with it\\r\\n I'm swervin', flippin' the bird while I'm purgin' niggas\\r\\n My words is bigger, matter of fact, my dick bigger\\r\\n The bigger the figure, the more they probably fuck, nigga\\r\\n I'll say it again\\r\\n No, I don't wanna be friends with none of you fuckin' Aliens\\r\\n I'm Predator, nigga, I batter you nigga\\r\\n Matter of fact, I'm better than niggas, I'll batter you nigga\\r\\n \\r\\n [Chorus]\\r\\n Bitch I am up, bitch I am up\\r\\n Bitch I am up, bitch I am up\\r\\n Bitch I am up, bitch I am up\\r\\n Bitch I am up, bitch I am up\\r\\n Bitch I am huh, bitch I am up\\r\\n Bitch I am up, bitch I am up\\r\\n Bitch I am up, bitch I am up\\r\\n Bitch I am up, bitch I am up\\r\\n [Outro]\\r\\n Hey, that was a fuckin' freestyle, just so y'all fuck niggas know\\r\\n Thank you very much, this whole thing was a freestyle\\r\\n You can ask my engineer\\r\\n I was doin' this shit in the motherfuckin' booth\\r\\n Thank you very much, okay!\",\"media\":\"[{\\\"provider\\\":\\\"soundcloud\\\",\\\"type\\\":\\\"audio\\\",\\\"url\\\":\\\"https:\\\\/\\\\/soundcloud.com\\\\/jahseh-onfroy\\\\/up-like-an-insomniac-freestyleprod-xxxtentacion-ronny-j\\\"},{\\\"provider\\\":\\\"youtube\\\",\\\"start\\\":0,\\\"type\\\":\\\"video\\\",\\\"url\\\":\\\"http:\\\\/\\\\/www.youtube.com\\\\/watch?v=TLb98hNfAng\\\"}]\"},{\"song_id\":\"402505\",\"artist_id\":\"820\",\"title\":\"Insomniak\",\"title_with_featured\":\"Insomniak (Ft. Rick Ross)\",\"full_title\":\"Insomniak by Mac Miller (Ft. Rick Ross)\",\"artist\":\"Mac Miller\",\"lyrics\":\"[Produced by Big Jerm]\\r\\n \\r\\n [Intro: Mac Miller]\\r\\n Think for yourself and you'll find out\\r\\n That a lot of those so-called authorities are bullshit\\r\\n Yeah, aye, Jerm, Jerm\\r\\n Ahh! Ahh!\\r\\n \\r\\n [Verse 1: Mac Miller]\\r\\n I'm the mothafuckin' greatest, y'all don't know that yet\\r\\n I don't need your money, you can hold that check\\r\\n At the crib in some Polo sweats\\r\\n I don't need a hoe, that's what the hoes don't get\\r\\n I'm on my worst behavior\\r\\n Bad side piece with the perfect flavor\\r\\n Mothafuckas never loved us\\r\\n Comin' for your money, mothafucka don't trust us\\r\\n Huh, you ain't shit\\r\\n Bought a brand new crib, yeah, I move that brick\\r\\n I don't want nothin' with your doo-doo clique\\r\\n Treat her like a dog, how I do that bitch\\r\\n Done doin' promo\\r\\n And it's still mothafuckin' Most Dope\\r\\n Made a couple million off a brand\\r\\n Mothafucka, we ain't even got a logo\\r\\n Bitch, you better have my money (I stay feelin' myself)\\r\\n I don't see anybody but me (man I'm killin' myself)\\r\\n And this shit too real\\r\\n See a mothafucka like me gettin' money\\r\\n (How does it feel?)\\r\\n Already been, but I'm back for more\\r\\n Insomniac, I don't know what I got a mattress for\\r\\n Insomniac, I don't know what I got a mattress for\\r\\n Don't sleep!\\r\\n \\r\\n [Hook: Mac Miller]\\r\\n I'm an insomniac, a mothafuckin' insomniac\\r\\n (Don't try to sneak around me)\\r\\n I'm an insomniac, a mothafuckin' insomniac\\r\\n (So don't try, don't try to sneak around me)\\r\\n I'm an insomniac, a mothafuckin' insomniac\\r\\n (Oh, hello Q)\\r\\n \\r\\n [Verse 2: Mac Miller]\\r\\n Yeah, yeah, said, said I'm a maniac, crazy, act insane\\r\\n Think I might need a cage in fact\\r\\n Chain reactions happen when I make a pact\\r\\n A psycho, God made me that\\r\\n Cause I fade to black and get down like a plane attack\\r\\n You mothafuckas just made me laugh\\r\\n Ha ha, God damnit, safety drill, do not panic\\r\\n Let me see how loud you scream (AHHH!)\\r\\n I'm off the map, mothafuckas start lookin'\\r\\n But they're never gonna see where I be\\r\\n She only speak French\\r\\n Said \\\"Bitch look, don't try and speak around me\\\"\\r\\n I don't sleep at all\\r\\n If you on that bullshit, I don't wanna be involved, shit\\r\\n I could make a million puttin' my lyrics on a tee\\r\\n Fearless, Jet Li, fourth quarter, Gretzky\\r\\n Take your bitch, Joe Pesci, don't test me\\r\\n Don't flex if you don't got shit on me\\r\\n And you ain't got shit on me, come get it\\r\\n (Come get it, come, come get it, come, come)\\r\\n Drawer full of fresh whites, snow bag full of unleaded\\r\\n I don't get enough credit\\r\\n Don't sleep!\\r\\n \\r\\n [Interlude: Rick Ross]\\r\\n (M-M-M-M-M-M)\\r\\n They done fucked up, han?\\r\\n The biggest bezzle, han?\\r\\n The don, Ricky Farrakhan\\r\\n (M-M-M-M-M-M-Maybach Music)\\r\\n \\r\\n [Verse 3: Rick Ross]\\r\\n My weed burnin', my chain glitter\\r\\n He's self made, Mac Miller my real nigga\\r\\n Fuck who don't like, bitch come see me\\r\\n Fuck who don't like, hitta, hitta, hitta\\r\\n Gettin' money so complicated\\r\\n I'm the shit, I'm constipated\\r\\n Yo baby momma, straight G\\r\\n Let me use the crib to mail all the weed\\r\\n California, Atlanta\\r\\n White girl in the black Phantom\\r\\n My top down, mid-December\\r\\n Ride with a big black fat nigga\\r\\n Krispy Kreme, then it's chicken wings\\r\\n Introduce you, different things\\r\\n Jet skis and the best weed\\r\\n Think it's fake? Bitch test me\\r\\n I'm jetlagged, don't need a stylist\\r\\n Pants sag, Jimmy Fallon\\r\\n Blowin' green in the green room\\r\\n Def Jam like Boss really wildin'\\r\\n Yeah they hate but won't box a nigga\\r\\n Bought the estate from a boxer nigga\\r\\n Paranoid, I'm walkin' 'round\\r\\n I'm butt naked with my chopper, nigga\\r\\n Hahahahaha\\r\\n I'm butt naked with my chopper, nigga\\r\\n \\r\\n [Hook: Mac Miller]\\r\\n I'm an insomniac, a mothafuckin' insomniac\\r\\n (Don't try to sneak around me)\\r\\n I'm an insomniac, a mothafuckin' insomniac\\r\\n (So don't try, don't try to sneak around me)\\r\\n I'm an insomniac, a mothafuckin' insomniac\\r\\n I'm an insomniac, a mothafuckin' insomniac\",\"media\":\"[{\\\"provider\\\":\\\"youtube\\\",\\\"start\\\":0,\\\"type\\\":\\\"video\\\",\\\"url\\\":\\\"http:\\\\/\\\\/www.youtube.com\\\\/watch?v=nlSDa7WBq1M\\\"}]\"},{\"song_id\":\"80980\",\"artist_id\":\"19002\",\"title\":\"Insomnia\",\"title_with_featured\":\"Insomnia\",\"full_title\":\"Insomnia by Faithless\",\"artist\":\"Faithless\",\"lyrics\":\"[Intro]\\r\\n And here we are\\r\\n Half past three in the morning\\r\\n I can't get no sleep\\r\\n \\r\\n Yeah\\r\\n Yeah\\r\\n \\r\\n I never sleep\\r\\n I never sleep\\r\\n I never sleep\\r\\n I never sleep\\r\\n I never sleep\\r\\n \\r\\n [Verse: Maxi Jazz]\\r\\n Uh\\r\\n Yeah, I only smoke weed when I need to\\r\\n And I need to get some rest\\r\\n Yo, where's the cess?\\r\\n I confess, I burned a hole in the mattress\\r\\n Yes, yes, it was me, I plead guilty\\r\\n And at the count of three I pull back the duvet\\r\\n Make my way to the refrigerator\\r\\n One dry potato inside, no lie\\r\\n Not even bread, jam\\r\\n When the light above my head went bam!\\r\\n I can't sleep, something's all over me\\r\\n Greasy, insomnia please release me\\r\\n And let me dream about making mad love to my girl on the heath\\r\\n Tearing off tights with my teeth\\r\\n But there's no relief\\r\\n I'm wide awake in my kitchen\\r\\n It's black and I'm lonely\\r\\n Oh, if I could only get some sleep\\r\\n Creeky noises make my skin creep\\r\\n I need to get some sleep\\r\\n I can't get no sleep\",\"media\":\"[{\\\"provider\\\":\\\"youtube\\\",\\\"start\\\":0,\\\"type\\\":\\\"video\\\",\\\"url\\\":\\\"http:\\\\/\\\\/www.youtube.com\\\\/watch?v=P8JEm4d6Wu4\\\"},{\\\"provider\\\":\\\"apple_music\\\",\\\"provider_id\\\":\\\"263689584\\\",\\\"type\\\":\\\"audio\\\",\\\"url\\\":\\\"https:\\\\/\\\\/itunes.apple.com\\\\/lookup?entity=song\\u0026id=263689584\\\"},{\\\"native_uri\\\":\\\"spotify:track:3NaVPL3TSSsX12ENQ58MDn\\\",\\\"provider\\\":\\\"spotify\\\",\\\"type\\\":\\\"audio\\\",\\\"url\\\":\\\"https:\\\\/\\\\/open.spotify.com\\\\/track\\\\/3NaVPL3TSSsX12ENQ58MDn\\\"}]\"},{\"song_id\":\"4220150\",\"artist_id\":\"1074674\",\"title\":\"Бессонница (Insomnia)\",\"title_with_featured\":\"Бессонница (Insomnia)\",\"full_title\":\"Бессонница (Insomnia) by LIL MORTY\",\"artist\":\"LIL MORTY\",\"lyrics\":\"[Текст песни «Бессонница»]\\n\\n[Куплет 1]\\nК чёрту все проблемы, я давно забыл про сон\\nТа же самая дилемма, но мы сремся в унисон\\nМне лишь нужно твоё тело, нет, не нужно больше слов\\nИ я забываюсь где я , не могу найти свой дом\\nТвоё фото в галерее меня режет, как ножом\\nЭтот мир перед глазами, и он как будто искажён\\nКуда бы не бежали, заметь — нам, всё равно\\nВсё по кругу на финале — ты в слезах, а я в говно\\nИ я помню твою талию, все как в  фильмах про любовь\\nКрылся пеплом наш сценарий, та же тема, вновь и вновь\\nИ сколько б не мотали, всё равно сбивает с ног\\nЯ давно здесь потерялся, как уйти из твоих снов?\\nМне не нужно представляться, тут хватает моих слов\\nИщу повод вдохновляться у тех сук у моих ног\\nЯ дал слово не сдаваться, во мне особенная кровь\\nПомню запах твоего тела, хорони меня, любовь\\n\\n[Бридж]\\nБессонница\\nБессонница\\nБессонница\\nБессонница\\n[Куплет 2]\\nЗачем нам ненавидеть друг друга?\\nМы с тобой ходим, над обрывом, по кругу\\nЯ не друг давно, ты не подруга\\nЯ опять в говно, это так глупо\\nОни скажут: «Всё пройдёт» — пиздёж, сука\\nЯ знаю, что значит слово — разлука\\nМой мир — ко дну, твой мир — к слухам\\nЯ падал, но не пал духом\\nЯ не долбленный ребёнок, с тех прокуренных притонов\\nЯ умею делать больно, слышишь, не жалей патрона\\nКоролева любви-боли, мои низкие поклоны\\nАплодирую я стоя, мне не снять с тебя короны\\nСотню стоял у трона, но ни разу не был тронут\\nМысли только о тебе, где же ты мой тихий омут\\nНе могу есть то, чем кормят, я уже сытый по горло\\nОставь всё позади, и то время где нам больно\\n\\n[Аутро]\\nБессонница моя\\nБессонница\\nБессонница моя\\nБессонница\",\"media\":\"[{\\\"provider\\\":\\\"soundcloud\\\",\\\"type\\\":\\\"audio\\\",\\\"url\\\":\\\"https://soundcloud.com/mortymort/9-prod-by-bi66ie\\\"},{\\\"provider\\\":\\\"youtube\\\",\\\"type\\\":\\\"video\\\",\\\"url\\\":\\\"http://www.youtube.com/watch?v=ilHuCjeipXk\\\"}]\"},{\"song_id\":\"4152765\",\"artist_id\":\"339472\",\"title\":\"Insomnia\",\"title_with_featured\":\"Insomnia\",\"full_title\":\"Insomnia by ZAYN\",\"artist\":\"ZAYN\",\"lyrics\":\"[Verse 1]\\nI've been roaming and strolling\\nAll in the streets\\nBurning my eyes red\\nNot slept for weeks\\nTesting your torment\\nMy future is bleak\\nLost in the moment\\nWith no words to speak\\n\\n[Pre-Chorus]\\nI can't find no peace\\n(I can't find no peace)\\n\\n[Chorus]\\nAm I a fool\\nWaiting for you?\\nWhat if you never come back?\\nWhat if you never come back?\\nThere's nothing new\\nI made another hit, I made another tune\\nWhat if we never know why hearts deceive us?\\nThe night calls to dreamers\\n\\n[Verse 2]\\nMy sleep was stolen\\nI'm searching for thieves\\nThese memories in my head\\nSo vivid to see\\n[Pre-Chorus]\\nI can't find no peace\\n(I can't find no peace)\\nBut when I close my eyes I feel it all again\\nI can't find no peace\\n\\n[Chorus]\\nAm I a fool\\nWaiting for you?\\nWhat if you never come back?\\nWhat if you never come back?\\nThere's nothing new\\nI made another hit, I made another tune\\nWhat if we never know why hearts deceive us?\\nThe night calls to dreamers\\n\\n[Bridge]\\nInsomnia\\nAnd when I close my eyes I feel it all again\\nInsomnia\\nAnd when I close my eyes I feel it all again\\n\\n[Chorus]\\nAm I a fool\\nWaiting for you?\\nWhat if you never come back?\\nWhat if you never come back?\\nThere's nothing new\\nI made another hit, I made another tune\\nWhat if we never know why hearts deceive us?\\nThe night calls to dreamers\",\"media\":\"[{\\\"provider\\\":\\\"youtube\\\",\\\"type\\\":\\\"video\\\",\\\"url\\\":\\\"http://www.youtube.com/watch?v=LPuCMuoveQ8\\\"}]\"},{\"song_id\":\"109188\",\"artist_id\":\"14019\",\"title\":\"Team Insomniak\",\"title_with_featured\":\"Team Insomniak\",\"full_title\":\"Team Insomniak by Leck\",\"artist\":\"Leck\",\"lyrics\":\"[Couplet 1]\\r\\n Le quotidien s’installe dans les quatre saisons\\r\\n Envie de sourire à la vie et cela sans raison\\r\\n J’suis jeune, convaincu de vivre de ma passion\\r\\n Les opinions ne sont pas les mêmes à la maison\\r\\n Yes, encore une nuit. Yes, encore une danse\\r\\n Je gagnerai du temps même si j’en perds le sens\\r\\n Oh, quelle douce France, contrôle d'faciès + offense\\r\\n J’ai laissé mon innocence mourrir dans mon enfance\\r\\n Et j’ai grandi sous un ciel de plomb\\r\\n Faillait investir dans un pare-balles\\r\\n J’écrivais des textes on m’a pas écouté\\r\\n Y’a que le miroir qui me trouvait khatal\\r\\n Yes, yes, yes\\r\\n Dans la chambre à Johan, on rappait nos lifes, rien dans les poches\\r\\n On s’en fout du Porsche, nous on freestylait sous les porches\\r\\n \\r\\n [Refrain]\\r\\n Ce soir j’ai pas sommeil, j’ai pas sommeil, j’ai pas sommeil, j’ai pas sommeil\\r\\n Ce soir j’ai pas sommeil, j’ai pas sommeil, j’ai pas sommeil, j’ai pas sommeil\\r\\n Et la daronne m’a dit : Wiliwiliwili wiliwiliwiliwili wiliwiliwili wiliwiliwiliwili\\r\\n Et la daronne m’a dit : NariNariNari Narinarinarinari\\r\\n NariNariNari Narinarinarinari\\r\\n \\r\\n [Couplet 2]\\r\\n Nan nan nan ce soir j’ai pas sommeil\\r\\n Les tipeu s'entraînent à pas faire d’soleil\\r\\n Les oncles au bled me demandent des Solex\\r\\n TMG déboule, laisse place aux rheyes\\r\\n Je t'ai dit, je chante, je rap, je promets\\r\\n Ramène qui tu veux le halla s’commet\\r\\n Mets les gaz , les dékis, fuck les collègues\\r\\n J’ai quitté le collège, on va être honnête\\r\\n Paam, j’ai grave du cœur et toi t’as quoi ?\\r\\n Ma vision n’est pas aléatoire\\r\\n J’ai grave la dalle, y’a pas d’fatwa\\r\\n J'donne des tickets pour l’abattoir\\r\\n Côté Yin Yang, bien et mal\\r\\n Un côté 9.4, Val de Marne\\r\\n Un côté Maroc, tfi lhafya\\r\\n Un côté jump up, j’retourne l’Olympia\\r\\n Tourne la page, le rap n’est pas dead\\r\\n Accroche-toi à la vie même si souvent c’est casse-tête\\r\\n J’pense aux détenus, Slimane ou Bardède\\r\\n Si le rap ne me donne rien, j’retourne aux Ass’dèc\\r\\n Vive les Allocs, teste ma parole\\r\\n Fuck les carottes, mon phrasé galope\\r\\n Pas de déballonne, t’es bonne j’te galoche\\r\\n Hlel ou salope, Crête de Lion\\r\\n \\r\\n [Pont 1]\\r\\n Pas sommeil, pas sommeil, pas sommeil, pas sommeil\\r\\n Ce soir j’ai pas sommeil, Bébé j’ai pas sommeil\\r\\n J’irai toucher le sommet, le sommet, le sommet, le sommet\\r\\n \\r\\n [Pont 2]\\r\\n Bouge, ce soir t’es le prince de la soirée\\r\\n Bouge, ce soir t’es le prince de la soirée\\r\\n Bouge, ce soir t’es le prince de la soirée\\r\\n Bouge, ce soir t’es le prince de la soirée\\r\\n Bouge, ce soir t’es la princesse de la soirée\\r\\n Bouge, ce soir t’es la princesse de la soirée\\r\\n Bouge, ce soir t’es la princesse de la soirée\\r\\n Bouge, ce soir t’es la princesse de la soirée\\r\\n \\r\\n [Refrain]\",\"media\":\"[{\\\"provider\\\":\\\"apple_music\\\",\\\"provider_id\\\":\\\"584425426\\\",\\\"type\\\":\\\"audio\\\",\\\"url\\\":\\\"https:\\\\/\\\\/itunes.apple.com\\\\/lookup?entity=song\\u0026id=584425426\\\"},{\\\"native_uri\\\":\\\"spotify:track:6Nw4xbrPgOQqcWlH2Nn2V3\\\",\\\"provider\\\":\\\"spotify\\\",\\\"type\\\":\\\"audio\\\",\\\"url\\\":\\\"https:\\\\/\\\\/open.spotify.com\\\\/track\\\\/6Nw4xbrPgOQqcWlH2Nn2V3\\\"},{\\\"provider\\\":\\\"youtube\\\",\\\"start\\\":0,\\\"type\\\":\\\"video\\\",\\\"url\\\":\\\"http:\\\\/\\\\/www.youtube.com\\\\/watch?v=8BcyhEBItk8\\\"}]\"},{\"song_id\":\"3202153\",\"artist_id\":\"1176418\",\"title\":\"Insomnia\",\"title_with_featured\":\"Insomnia (Ft. Navy Westghost)\",\"full_title\":\"Insomnia by TJ_beastboy \\u0026 Mary Man (Ft. Navy Westghost)\",\"artist\":\"TJ_beastboy \\u0026 Mary Man\",\"lyrics\":\"[Intro: TJ_beastboy]\\r\\n Ich hab's so lang versucht zu leugnen, doch ich fühle mich so schwach\\r\\n Ich kann nicht schlafen, kann nicht träumen, denn mein Kopf, er hält mich wach\\r\\n \\r\\n Mit schwachen Augen starr' ich auf das Display\\r\\n Zum siebten Mal in dieser Nacht\\r\\n Sekunden werden Stunden, bis die Zeit steht\\r\\n Und ich liege wach, schon viel zu lang\\r\\n Seit Tagen bin ich müde und es nimmt mir meine Kraft\\r\\n Mich verlassen die Gefühle in mir nach und nach\\r\\n Und was bleibt, ist nur Verzweiflung und ein nasses Bett\\r\\n Voller Schweiß und voller Angst, in dem ich mich vor Qualen wälz'\\r\\n Hm-hmm, ich kann nicht schlafen\\r\\n Oh, ich kann nicht schlafen (nicht schlafen)\\r\\n Nicht schlafen (nicht schlafen), nicht schlafen (nicht schlafen)\\r\\n Oh, ich kann nicht schlafen (nicht schlafen)\\r\\n Nicht schlafen (nicht schlafen), nicht schlafen (nicht schlafen)\\r\\n Oh, ich kann nicht schlafen (nicht schlafen)\\r\\n Nicht schlafen (nicht schlafen), nicht schlafen (nicht schlafen)\\r\\n Nicht schlafen (nicht schlafen), nicht schlafen (nicht schlafen)\\r\\n Nicht schlafen (nicht schlafen), nicht schlafen (nicht schlafen)\\r\\n \\r\\n [Part 1: TJ_beastboy]\\r\\n Und dann gönn' ich mir monotone Deutschrapflows und schlafe wie ein Baby\\r\\n Und dann hat sich das erledigt\\r\\n Ja, Mann, ich hör' eure Mucke nachts an und ich schäm' mich\\r\\n Manchmal hör' ich sie zu lang und übergeb' mich\\r\\n Wenn mich wer erwischt, dann sag' ich, „Das war nur versehentlich\\r\\n Äh, da läuft nur Rapper XY, weil ich mich grad verklickt hab'\\r\\n Passiert mir immer im Winter, weil da die Finger so zittern\\r\\n Verlass jetzt bitte mein Zimmer, ich hör' schon damit auf“\\r\\n Und wenn man mich nicht erwischt hat, dann lösch' ich mein'n Verlauf, woo\\r\\n „Hörst du schon wieder Deutschrap?“\\r\\n Mich juckt es nicht, was die Missets so machen\\r\\n Doch dass sie langweilig sind, hilft mir beim Schlafen\\r\\n Und manchmal brauch' ich auch ein bisschen zum Lachen\\r\\n Okay, ich brauch' keine Schafe zu zähl'n und auch keine Schlafmittel nehm'n\\r\\n Denn es reicht aus, mir die Charts anzuseh'n und zu schau'n, was da grade so geht\\r\\n Ey, guck ma', jeder kann was gut, aber sie könn'n nicht rappen, Homie\\r\\n Jeder kann was gut, aber wir sind die Besten, Homie\\r\\n Wack sind die andern Rapper, wirklich\\r\\n Sie ersetzen die Schlaftabletten für mich\\r\\n [Bridge: TJ_beastboy]\\r\\n Jeder kann was gut, aber sie könn'n nicht rappen, nein\\r\\n Jeder kann was gut, aber wir sind die Besten, ja\\r\\n \\r\\n [Part 2: Navy Westghost]\\r\\n Wer hält euch noch auseinander?\\r\\n Du klingst so wie er oder er, nicht anders\\r\\n Ihr kopiert euch nur untereinander\\r\\n Und ihr kopiert den Trend der andern\\r\\n Kids nehm'n mein'n Text auseinander\\r\\n Ich nehm' Rapdeutschland auseinander\\r\\n All deine Vorbilder nacheinander\\r\\n Bis alle sagen, „Halt Navy auseinander!“\\r\\n G-G-Geister sind schlaflos\\r\\n Doch wenn der Klang deiner Songs mir zu nah kommt\\r\\n Ist das für mich wie 'ne Nahtoderfahrung\\r\\n Ich kann dir auch gern erklär'n, warum\\r\\n Nicht weil du killst, nicht weil du der Beste bist\\r\\n Was du nur denkst, das du bist\\r\\n Weil du so monoton klingst\\r\\n Dass ich nur um ein Ende zu setzen gleich einschlafen will, darum!\\r\\n Deutsche Rapper leiden an Taktrhythmusstörung, Bitch\\r\\n Der Scheiß verursacht in mir 'ne Schlafrhythmusstörung, Bitch\\r\\n Geister schlafen nie, doch so verrückt es auch klingt\\r\\n Dein Flow schläfert mich ein wie ein fünfjähriges Kind\\r\\n [Outro: Navy Westghost]\\r\\n Pummeluff-Effekt, wenn du rappst, yeah, yeah (yeah, yeah)\\r\\n Alle pennen weg, wenn du rappst, yeah, yeah (yeah)\\r\\n Pummeluff-Effekt, wenn du rappst, yeah, yeah (yeah, yeah)\\r\\n Alle pennen weg, wenn du rappst, yeah, yeah (yeah)\",\"media\":\"[{\\\"provider\\\":\\\"youtube\\\",\\\"start\\\":0,\\\"type\\\":\\\"video\\\",\\\"url\\\":\\\"http:\\\\/\\\\/www.youtube.com\\\\/watch?v=z_LS3hbW398\\\"},{\\\"provider\\\":\\\"apple_music\\\",\\\"provider_id\\\":\\\"1281957505\\\",\\\"type\\\":\\\"audio\\\",\\\"url\\\":\\\"https:\\\\/\\\\/itunes.apple.com\\\\/lookup?entity=song\\u0026id=1281957505\\\"}]\"},{\"song_id\":\"551171\",\"artist_id\":\"7388\",\"title\":\"Insomniac\",\"title_with_featured\":\"Insomniac (Ft. Andy Mineo)\",\"full_title\":\"Insomniac by Trip Lee (Ft. Andy Mineo)\",\"artist\":\"Trip Lee\",\"lyrics\":\"[Intro: Gawvi and Trip Lee]\\r\\n Can I begin?  (Yes)\\r\\n Hey, yessir\\r\\n Hey, talk to me now\\r\\n Hey\\r\\n (Gawvi, get ‘em)\\r\\n Let's get em, G\\r\\n Hey Mineo, let’s go (yeah)\\r\\n \\r\\n [Verse 1: Trip Lee]\\r\\n Going in today (day), this my only shot\\r\\n My life could end today, yeah, my heart stop\\r\\n If I go out tonight, I’m going out on top\\r\\n I give it all, this life ain’t all I got\\r\\n Yessir, now wait a minute bro, I see ya rocking’ with yo' hands high\\r\\n Waitin’ for that beat to take off, 808s on stand by\\r\\n When I’m breathing bangers I say statements that I stand by\\r\\n Ground gonna shake when that beat drop, landslide\\r\\n Please let me off my leash (huh)\\r\\n I feel it, I feel it, I’m feeling too good\\r\\n Like I’m a beast\\r\\n Like a gorilla who’s real in the hood\\r\\n So I’m going on and on\\r\\n I’ll be resting when I’m gone\\r\\n Rise and grind is what I’m on\\r\\n Bro that’s why I wrote the song\\r\\n Tonight I’m going off like my life span just lasts all night\\r\\n If I don’t wake up in the morning bro, I’m gon’ be alright\\r\\n Throw caution to the wind, leggo, we ‘bout to go in\\r\\n No slowin' down, we gon’ win\\r\\n No slowin' down, we know Him. Brag\\r\\n \\r\\n [Hook: Melanie Segura \\u0026amp; Rebecca Folkes]\\r\\n Tonight I’ll risk it all to follow Him and live like my life’s over tomorrow\\r\\n We love it when we go hard all week\\r\\n 'Til it's over, it ain’t no sleep, cuz we gettin’ it, gettin’ it, gettin’ it\\r\\n Insomnia -ay-ay-ay-ay-ay-ay-ay-ay-ay (We be) gettin’ it, gettin’ it, gettin’ it\\r\\n -ay-ay-ay gettin’ it, gettin’ it, gettin’ it\\r\\n Insomnia -ay-ay-ay-ay-ay-ay-ay-ay-ay, gettin’ it, gettin’ it, gettin’ it\\r\\n -ay-ay-ay (We be) gettin’ it, gettin’ it, gettin’ it\\r\\n Oh, oh-oh-oh, oh-oh-oh, oh, oh, oh… Insomniac\\r\\n Insomniac\\r\\n Insomnia -ay (We be gettin’ it, gettin’ it, gettin’ it)\\r\\n Ay-ay-ay-ay-ay (gettin’ it, gettin’ it, gettin’ it)\\r\\n \\r\\n [Bridge: Trip Lee]\\r\\n Throw caution to the wind, leggo, we ‘bout to go in\\r\\n No slowing down, we gon’ win\\r\\n No slowing down, we know Him\\r\\n Throw caution to the wind, leggo, we ‘bout to go in\\r\\n No slowing down, we gon’ win\\r\\n No slowing down, we know Him\\r\\n \\r\\n [Verse 2: Andy Mineo]\\r\\n Okay, okay, okay, I get it\\r\\n What’s the point of playing the game if you don’t win it?\\r\\n I ain’t never spit a sweet 16, I call that a gift, so you know I gotta bring it\\r\\n Ya'll live like minutes is infinite\\r\\n If time isn’t money, then why you tripping to spend it\\r\\n Finally found a girl that ain’t in her phone all the time\\r\\n So you know I had to ring it (bling)\\r\\n Oh my, Oh God. That ain’t common\\r\\n No girl, that’s impressive\\r\\n I’m trying to fight for the cause\\r\\n Ya'll wanna fight in my comments section\\r\\n Dang, I don’t get it though\\r\\n Like deadbeat dads, I don’t get involved\\r\\n They said I’d never be nuthin'\\r\\n But I think I still turned out awesome\\r\\n I ain’t into talking, I just get it done\\r\\n They want to get a job, or wanna get a gun (huh)\\r\\n They wanna get a blunt, and get burnt out like me in the sun. Why?\\r\\n I, I think they’re onto us… don’t sleep now, that’s insomnia\\r\\n Y'all worry about when your Jordan’s drop\\r\\n But you don’t worry about when your body does? Dang\\r\\n \\r\\n [Outro: Melanie Segura \\u0026amp; Rebecca Folkes]\\r\\n Tonight I’ll risk it all to follow Him and live like my life’s over tomorrow\\r\\n We love it when we go hard all week\\r\\n 'Til it's over, it ain’t no sleep, cuz we gettin’ it, gettin’ it, gettin’ it\\r\\n Insomnia -ay-ay-ay-ay-ay-ay-ay-ay-ay (We be) gettin’ it, gettin’ it, gettin’ it\\r\\n -ay-ay-ay gettin’ it, gettin’ it, gettin’ it\\r\\n Insomnia -ay-ay-ay-ay-ay-ay-ay-ay-ay, gettin’ it, gettin’ it, gettin’ it\\r\\n -ay-ay-ay (We be) gettin’ it, gettin’ it, gettin’ it\\r\\n Oh, oh-oh-oh, oh-oh-oh, oh, oh, oh… Insomniac\\r\\n Insomniac\\r\\n Insomnia -ay (We be gettin’ it, gettin’ it, gettin’ it)\\r\\n Ay-ay-ay-ay-ay (gettin’ it, gettin’ it, gettin’ it)\",\"media\":\"[{\\\"provider\\\":\\\"apple_music\\\",\\\"provider_id\\\":\\\"918588907\\\",\\\"type\\\":\\\"audio\\\",\\\"url\\\":\\\"https:\\\\/\\\\/itunes.apple.com\\\\/lookup?entity=song\\u0026id=918588907\\\"},{\\\"native_uri\\\":\\\"spotify:track:2VBo6OXRntDFDCzeXYZq7D\\\",\\\"provider\\\":\\\"spotify\\\",\\\"type\\\":\\\"audio\\\",\\\"url\\\":\\\"https:\\\\/\\\\/open.spotify.com\\\\/track\\\\/2VBo6OXRntDFDCzeXYZq7D\\\"},{\\\"provider\\\":\\\"youtube\\\",\\\"start\\\":0,\\\"type\\\":\\\"video\\\",\\\"url\\\":\\\"http:\\\\/\\\\/www.youtube.com\\\\/watch?v=qo3nLF4hmzE\\\"}]\"},{\"song_id\":\"4357660\",\"artist_id\":\"508218\",\"title\":\"Insomnia\",\"title_with_featured\":\"Insomnia\",\"full_title\":\"Insomnia by Daya\",\"artist\":\"Daya\",\"lyrics\":\"[Chorus]\\nAh, ah, 'cause I can't sleep without you\\nNo, I don't want to dream about you\\nWish I had my arms wrapped around you (Insomnia)\\n\\n[Verse 1]\\nI've been down for two days\\nTylenol PM ain't working\\nLosing track of time, babe (Insomnia)\\nMy mind is running too fast\\nShadows on the wall keep lurking\\nI wish that you would come back (Insomnia)\\n\\n[Pre-Chorus]\\nI keep on hoping to find you\\nReaching in between the sheets\\nBaby, it's only been one night\\nFeel like it's been like a week\\nTossin' and turnin', tossin' and turnin'\\nFlipping the pillow, pulling the curtains\\nI got, I got, I got\\n\\n[Chorus]\\nInsomnia, ah\\n'Cause I can't sleep without you\\nNo, I don't want to dream about you\\nWish I had my arms wrapped around you (Insomnia)\\nInsomnia, ah\\n'Cause I can't sleep without you\\nNo, I don't want to dream about you\\nWish I had my arms wrapped around you (Insomnia)\\n[Verse 2]\\nI can hear your voice now\\nKeeping me awake 'til morning\\nCan see you with the lights out (Insomnia)\\n\\n[Pre-Chorus]\\nI keep on hoping to find you\\nReaching in between the sheets\\nMaybe it's only been one night\\nFeel like it's been like a week\\nTossin' and turnin', tossin' and turnin'\\nFlipping the pillow, pulling the curtains\\nOh, I got, I got, I got (I got, I got, I got)\\n\\n[Chorus]\\nInsomnia, ah\\n'Cause I can't sleep without you\\nNo, I don't want to dream about you\\nWish I had my arms wrapped around you (Insomnia)\\nInsomnia, ah\\n'Cause I can't sleep without you\\nNo, I don't want to dream about you\\nWish I had my arms wrapped around you (Insomnia)\\n\\n[Outro]\\nI keep on hoping to find you\\nI'm trying and trying and trying to\\nYou setting, you setting my mind loose\\nOh, I got, I got, I got\",\"media\":\"[{\\\"provider\\\":\\\"spotify\\\",\\\"type\\\":\\\"audio\\\",\\\"url\\\":\\\"https://open.spotify.com/track/7hzlzoOwCZ4D3Ow5YZK4kj\\\",\\\"native_uri\\\":\\\"spotify:track:7hzlzoOwCZ4D3Ow5YZK4kj\\\"},{\\\"provider\\\":\\\"youtube\\\",\\\"type\\\":\\\"video\\\",\\\"url\\\":\\\"http://www.youtube.com/watch?v=JybV1mL6EMA\\\"}]\"},{\"song_id\":\"4061385\",\"artist_id\":\"148761\",\"title\":\"Insomnia\",\"title_with_featured\":\"Insomnia\",\"full_title\":\"Insomnia by Takeoff\",\"artist\":\"Takeoff\",\"lyrics\":\"[Intro]\\nYeah, yeah\\nYeah, uh, uh, uh, huh\\nOoh, yeah\\nYou know what the fuck going on, nigga\\nYeah, Buddah Bless this beat\\n\\n[Chorus]\\nCount up my money and give me them blues (Count it up)\\nWatch me pipe on you (Pipe up), I'ma go'n bust my move\\nFuckin' her friends by the two (Two), I been approved\\nYou can't get in, I'ma charge 'bout ten and flex on you (Flex)\\nI been up, huh (Up), hey, ayy\\nWe been up up (Up), ayy, ayy\\nI been up, huh (Up), ayy, ayy\\nI had to grind for days (Grind)\\nI been up, I can't sleep, what's wrong?\\nPercocet, mollies on her tongue\\nCame a long way, we all on\\nMmh-mmh\\n\\n[Verse]\\nPlain Jane cost a fifty (Plain)\\nMain things in my mentions (Main)\\nThey don't really know the half (Half)\\nThey don't really know the distance\\nTold 'em that I was gon' make it, they laughed (Laughed)\\nDidn't believe in my decision (Nope)\\nI tried to tell 'em, they ain't listen (Nope)\\nThey blind, they can't see the vision\\nMy bitches bad and they pay the tab (She pay the tab)\\nI fuck her one time\\nI know she gon' come back around (Back around)\\nI been gettin' that paper way back in the day\\nBut this shit gettin' crazy now (Crazy)\\nMoney been tall as Yao\\nI'm on a jet, I land in Macau\\nThey tried to copy the style (Tried it)\\nCount up the backend\\nCash in my hand right now (Money)\\nI met the plug in England\\nNo Queen Elizabeth, we talkin' 'bout pounds (Pounds)\\nAll of my niggas ain't friendly (Uh, uh)\\nNone of my niggas they smile (Nope)\\nI'm taking risks, Man vs. Wild\\nI made it, now mama proud (Mama)\\nPut the whole team on now (Whole team)\\nLookin' for the recipe, how?\\nShe just be lookin' for clout (Clout)\\nFuck the whole team for the clout (Clout)\\nI drink an eight a day\\nI never heard of a drought (Actavis)\\nStars in the ceiling, Wraith, ayy\\nBig body comin' down (Wraith)\\nFinna go ape, Bape (Ape)\\nHundred bricks came in on crates (Crates)\\nI'ma take the money on dates (dates)\\nFuck you and record it on tape (Tape)\\nAP, iced out face (AP)\\nPour up four 'cause I love the taste (Act)\\nSay you know who? Huh?\\nWhat? Where? Nobody safe (Nobody)\\nI do not fuck with the squares (Nobody)\\nBitches they come out in pairs (Twos)\\nLet's play a game of Truth or Dare (Truth)\\nIs it true you won't shoot? (Is it true?)\\nTouch my chain, boy I dare (Dare you to)\\nYou gon' make it out of where? (Where?)\\nMy niggas ain't playin' fair (Nah)\\nYoung rich niggas, yeah, we rare (Ayy)\\n[Chorus]\\nCount up my money and give me them blues (Count it up)\\nWatch me pipe on you (Pipe up), I'ma go'n bust my move\\nFuckin' her friends by the two (Two), I been approved\\nYou can't get in, I'ma charge 'bout ten and flex on you (Flex)\\nI been up, huh (Up), hey, ayy\\nWe been up up (Up), ayy, ayy\\nI been up, huh (Up), ayy, ayy\\nI had to grind for days (Grind)\\nI been up, I can't sleep, what's wrong?\\nPercocet, mollies on her tongue\\nCame a long way, we all on\\nMmh-mmh\",\"media\":\"[{\\\"provider\\\":\\\"youtube\\\",\\\"type\\\":\\\"video\\\",\\\"url\\\":\\\"http://www.youtube.com/watch?v=ZHDlbowCyCE\\\"}]\"}]}";

                    JsonResponse ListaCanciones = JsonConvert.DeserializeObject<JsonResponse>(algo2);


                    Parallel.ForEach(ListaCanciones.Result, item =>
                    {

                        JArray s = JArray.Parse(item.mediaPre);
                        item.media = (s.ToObject<List<Media>>());

                    });


                    return ListaCanciones;
                }
                return null;

            }
        }


        public JsonResponseAudio GetInfoFromAudio()
        {
            String RespuestaAudio = "{\"status\":\"success\",\"result\":[{\"underground\":\"humming\",\"humming\":true,\"count\":2,\"list\":[{\"score\":87,\"artist\":\"Voices of Christmas\",\"title\":\"Last Christmas\"},{\"score\":68,\"artist\":\"Ellie Goulding\",\"title\":\"Love me Like you Do\"}]}]}";
            var x = new
            {
                status = "success",
                result = new {
                    underground = "humming",
                    humming = "true",
                    count = "1",
                    list = new {
                             score = "76",
                             artist = "Ronan Keating",
                            title = "When You Say Nothing At All"
                    }
             }};

            JsonResponseAudio ListaCanciones = JsonConvert.DeserializeObject<JsonResponseAudio>(RespuestaAudio);
          
            return ListaCanciones;


        }

        public async Task<JsonResponseAudio> PruebaEnvioAudioAsync(FileData Audio)
        {
            using (HttpClient client = new HttpClient())
            {
                client.BaseAddress = new Uri(this.url);
                client.DefaultRequestHeaders.Accept.Clear();
                client.DefaultRequestHeaders.Accept.Add(this.header);
                client.DefaultRequestHeaders.Accept.Add(new MediaTypeWithQualityHeaderValue("multipart/form-data"));

                var file = new { file = Audio };

                String json = JsonConvert.SerializeObject(Audio);
                  StringContent content = new StringContent(json, Encoding.UTF8, "application/json");

            

                String request = "https://api.audd.io/recognizeWithOffset/?&api_token=ffad7b7a799d4a21526ed40ab9a41cea";
                HttpResponseMessage response = await client.PostAsync(request, content);

                if (response.IsSuccessStatusCode)
                {
                    var x = await response.Content.ReadAsStringAsync();
                }

                return null;
            }
        }



    }
}
